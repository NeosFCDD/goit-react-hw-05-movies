{"version":3,"file":"static/js/637.e808e702.chunk.js","mappings":"4OACA,EAA4B,8BAA5B,EAAiE,yBAAjE,EAAyG,iCAAzG,EAAwJ,gCAAxJ,EAAgM,0B,SCAhM,EAAuB,wBAAvB,EAAuD,yBAAvD,EAAuF,wB,kBCmCvF,EA9BkB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACbC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,eAAIC,UAAWC,EAAf,SACGJ,EAAOK,KAAI,SAACC,GACX,OACE,eAAmBH,UAAWC,EAA9B,UACE,UAAC,KAAD,CACEG,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMT,GACfE,UAAWC,EAHb,WAKE,gBACEO,IACEL,EAAMM,YAAN,UAjBF,oCAiBE,OAAiCN,EAAMM,aAAgBC,EAEzDC,IAAKR,EAAMS,MACXC,MAAM,QACNC,OAAO,SAERX,EAAMS,UAdFT,EAAME,GAkBlB,KAGN,ECgCD,EA1DmB,WAAO,IAAD,EACvB,GAAwCU,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAU,UAAGL,EAAaM,IAAI,YAApB,QAA4B,GAC5C,GAA4BJ,EAAAA,EAAAA,UAASG,GAArC,eAAOE,EAAP,KAAeC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAGA,IAAMG,EAAe,mCAAG,oGACDC,MAAM,GAAD,OAbpB,4CAaoB,oBAdhB,mCAcgB,iCAC0BJ,EAD1B,gCADJ,cAClBK,EADkB,gBAILA,EAASC,OAJJ,OAItBD,EAJsB,OAKtBR,EAAgBQ,EAASE,SALH,2CAAH,qDAOrBJ,IAAkBK,MAAMC,QAAQC,MAR/B,CASF,GAAE,CAACV,IAaJ,OACE,4BACE,gBAAKvB,UAAWC,EAAhB,UACE,kBAAMD,UAAWC,EAAUiC,SARZ,SAACC,GACpBA,EAAEC,iBACFZ,EAAUH,EACX,EAKK,WACE,mBAAQgB,KAAK,SAASrC,UAAWC,EAAjC,UACE,iBAAMD,UAAWC,EAAjB,uBAGF,kBACED,UAAWC,EACXqC,SArBS,SAACH,GACC,KAAnBA,EAAEI,OAAOC,MACLvB,EAAgB,CAAC,GACjBA,EAAgB,CAAEwB,EAAGN,EAAEI,OAAOC,OACnC,EAkBSA,MAAOnB,EACPgB,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,sBAKjBzB,GAAgBA,EAAa0B,OAAS,GACrC,SAAC,EAAD,CAAWhD,OAAQsB,IACjB,OAGT,C,8GChED,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBb,EAAQc,EAAKd,KAInB,CAHE,MAAOP,GAEP,YADAgB,EAAOhB,EAET,CAEIqB,EAAKC,KACPP,EAAQR,GAERgB,QAAQR,QAAQR,GAAOiB,KAAKP,EAAOC,EAEvC,CAEe,SAASO,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUR,EAASC,GACpC,IAAIF,EAAMY,EAAGK,MAAMJ,EAAME,GAEzB,SAASZ,EAAMV,GACbM,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQX,EAClE,CAEA,SAASW,EAAOc,GACdnB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASc,EACnE,CAEAf,OAAMgB,EACR,GACF,CACF,C","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","webpack://goit-react-hw-05-movies/./src/components/QueryList/QueryList.module.css?027b","components/QueryList/QueryList.jsx","components/SearchForm/SearchForm.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"SearchForm_searchbar__ufFAl\",\"form\":\"SearchForm_form__o80os\",\"searchbutton\":\"SearchForm_searchbutton__esJAI\",\"buttonlabel\":\"SearchForm_buttonlabel__vto8C\",\"input\":\"SearchForm_input__HOxJo\"};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"QueryList_list__DAqGp\",\"movie\":\"QueryList_movie__dUVGA\",\"link\":\"QueryList_link__-Wxbw\"};","import { Link, useLocation } from \"react-router-dom\";\nimport css from \"components/QueryList/QueryList.module.css\";\nimport defaultImage from \"components/DefaultImg/defaultImage.jpg\"\n\nconst IMG_URL = \"https://image.tmdb.org/t/p/w300/\";\n\nconst QueryList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.list}>\n      {movies.map((movie) => {\n        return (\n          <li key={movie.id} className={css.movie}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.link}\n            >\n              <img\n                src={\n                  movie.poster_path ? `${IMG_URL}${movie.poster_path}` : defaultImage\n                }\n                alt={movie.title}\n                width=\"250px\"\n                height=\"100%\"\n              ></img>\n              {movie.title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default QueryList;","import { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport css from \"components/SearchForm/SearchForm.module.css\";\nimport QueryList from \"components/QueryList/QueryList\";\n\nconst API_KEY = \"e6ff7d92338793893a42bd2f0fabea27\";\nconst URL = \"https://api.themoviedb.org/3/search/movie\";\n\nconst SearchForm = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchResult, setSearchResult] = useState(null);\n  const queryValue = searchParams.get(\"q\") ?? \"\";\n  const [search, setSearch] = useState(queryValue);\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    const getQueryResults = async () => {\n      let response = await fetch(\n        `${URL}?api_key=${API_KEY}&language=en-US&query=${search}&page=1&include_adult=false`\n      );\n      response = await response.json();\n      setSearchResult(response.results);\n    };\n    getQueryResults().catch(console.error);\n  }, [search]);\n\n  const updateQuery= (e) => {\n    e.target.value === \"\"\n      ? setSearchParams({})\n      : setSearchParams({ q: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setSearch(queryValue);\n  };\n\n  return (\n    <div>\n      <div className={css.searchbar}>\n        <form className={css.form} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css.searchbutton}>\n            <span className={css.buttonlabel}>Search</span>\n          </button>\n\n          <input\n            className={css.input}\n            onChange={updateQuery}\n            value={queryValue}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n          />\n        </form>\n      </div>\n\n      {searchResult && searchResult.length > 0 ? (\n        <QueryList movies={searchResult} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default SearchForm;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movies","location","useLocation","className","css","map","movie","to","id","state","from","src","poster_path","defaultImage","alt","title","width","height","useSearchParams","searchParams","setSearchParams","useState","searchResult","setSearchResult","queryValue","get","search","setSearch","useEffect","getQueryResults","fetch","response","json","results","catch","console","error","onSubmit","e","preventDefault","type","onChange","target","value","q","autoComplete","autoFocus","placeholder","length","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}